<Window x:Class="AzerothCoreCreator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AzerothCore Creator v0.1.7"
        Height="780" Width="1200"
        MinWidth="1200" MinHeight="780"
        Loaded="Window_Loaded"
        Icon="pack://application:,,,/AzerothCoreCreator.ico">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="220"/>
        </Grid.RowDefinitions>
        <TextBlock
    Grid.Row="2"
    HorizontalAlignment="Left"
    VerticalAlignment="Bottom"
    Margin="10,0,0,1"
    Foreground="Gray"
    FontSize="12"
    Opacity="0.8"
    Panel.ZIndex="1000">
    <Hyperlink Click="DiscordLink_Click">Discord</Hyperlink>
        </TextBlock>

        <TextBlock
    Grid.Row="2"
    x:Name="StatusTipText"
    HorizontalAlignment="Left"
    VerticalAlignment="Bottom"
    Margin="55,0,0,0"
    Foreground="Gray"
    FontSize="12"
    Opacity="0.8"
    Panel.ZIndex="1000"
    Text="Tip: Install via Setup.exe to enable automatic updates."/>
        <!-- ===================== DB CONNECTION ===================== -->
        <GroupBox Header="Database Connection" Grid.Row="0" Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="140"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="Host" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <TextBox x:Name="HostBox" Grid.Row="0" Grid.Column="1" Text="127.0.0.1"/>

                <TextBlock Text="Port" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="14,0,6,0"/>
                <TextBox x:Name="PortBox" Grid.Row="0" Grid.Column="3" Text="3306"/>

                <TextBlock Text="User" Grid.Row="0" Grid.Column="4" VerticalAlignment="Center" Margin="14,0,6,0"/>
                <TextBox x:Name="UserBox" Grid.Row="0" Grid.Column="5" Text="acore"/>

                <TextBlock Text="Password" Grid.Row="0" Grid.Column="6" VerticalAlignment="Center" Margin="14,0,6,0"/>
                <PasswordBox x:Name="PassBox" Grid.Row="0" Grid.Column="7"/>

                <TextBlock Text="World DB" Grid.Row="0" Grid.Column="8" VerticalAlignment="Center" Margin="14,0,6,0"/>
                <TextBox x:Name="WorldDbBox" Grid.Row="0" Grid.Column="9" Text="acore_world"/>
                <!-- row 1: buttons left, status right (always visible) -->
                <Grid Grid.Row="1" Grid.ColumnSpan="11" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- buttons -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <Button Content="Connect &amp; Load Next IDs" Width="190" Margin="0,0,10,0" Click="ConnectAndLoad_Click"/>
                        <Button Content="Disconnect" Width="140" Click="Disconnect_Click"/>
                        <TextBlock x:Name="ConnMessage" Margin="14,4,0,0" Foreground="Gray" TextWrapping="Wrap"/>
                    </StackPanel>

                    <!-- status -->
                    <Border Grid.Column="10"
                            Background="#F3F3F3"
                            Padding="12,6"
                            CornerRadius="4"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Margin="0,0,30,0">

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Ellipse x:Name="ConnLight"
                                    Width="10"
                                    Height="10"
                                    Fill="Gray"
                                    Margin="0,0,6,0"/>

                            <TextBlock x:Name="ConnStatusText"
                                       Text="Not Connected"
                                       FontWeight="SemiBold"
                                       VerticalAlignment="Center"/>

                            <TextBlock x:Name="ConnEndpointText"
                                       Foreground="Gray"
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                </Grid>
            </Grid>
        </GroupBox>

        <!-- ===================== TABS ===================== -->
        <TabControl Grid.Row="1" Margin="0,10,0,0">
            <!-- ===================== CREATURE TAB ===================== -->
            <TabItem Header="Creature">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">

                        <!-- Top: ID + buttons -->
                        <DockPanel LastChildFill="True">
                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                                <TextBlock Text="Creature Entry (NPC ID)" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBox x:Name="CreatureEntryBox" Width="140" Text="0"/>
                                <TextBlock x:Name="CreatureNextIdHint" Foreground="Gray" Margin="10,4,0,0"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                <Button Content="Generate SQL" Width="120" Margin="0,0,8,0" Click="CreatureGenerateSql_Click"/>
                                <Button Content="Apply to DB" Width="120" Margin="0,0,8,0" Click="CreatureApplyDb_Click"/>
                                <Button Content="Export .sql" Width="120" Click="CreatureExportSql_Click"/>
                            </StackPanel>
                        </DockPanel>

                        <!-- Template -->
                        <GroupBox Header="Templates (Beginner)" Padding="10" Margin="0,10,0,0">
                            <StackPanel>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="260"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <ComboBox x:Name="CreatureTemplateCombo" Grid.Column="0" SelectedIndex="0">
                                        <ComboBoxItem Content="Default"/>
                                        <ComboBoxItem Content="Questgiver (Talk)"/>
                                        <ComboBoxItem Content="Vendor (Repair optional)"/>
                                        <ComboBoxItem Content="Friendly Herald (Clues / Speech)"/>
                                        <ComboBoxItem Content="Beast Enemy"/>
                                        <ComboBoxItem Content="Humanoid Enemy"/>
                                        <ComboBoxItem Content="Raid Boss (basic)"/>
                                    </ComboBox>

                                    <Button Grid.Column="1" Content="Load Template" Margin="10,0,0,0" Padding="14,6"
                                         Click="CreatureLoadTemplate_Click"/>

                                    <TextBlock Grid.Column="2" Foreground="Gray" Margin="12,3,0,0"
                                            Text="Templates fill beginner-friendly defaults. You can still override any field."/>
                                </Grid>
                                <Grid Margin="0,10,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="260"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                </Grid>
                            </StackPanel>
                        </GroupBox>

                        <!-- Beginner fields -->
                        <GroupBox Header="Beginner Fields" Padding="10" Margin="0,10,0,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="170"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="170"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Name" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                                <TextBox x:Name="CreatureNameBox" Grid.Row="0" Grid.Column="1" Margin="0,0,0,5"/>

                                <TextBlock Text="Subname (Title)" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="80,0,0,0"/>
                                <TextBox x:Name="CreatureSubnameBox" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5"/>

                                <TextBlock Text="Faction (easy)" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center"/>
                                <ComboBox x:Name="CreatureFactionCombo" Grid.Row="2" Grid.Column="1" SelectedIndex="0" Margin="0,0,0,5"/>

                                <TextBlock Text="Creature Type" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" Margin="80,0,0,0"/>
                                <ComboBox x:Name="CreatureTypeCombo" Grid.Row="2" Grid.Column="3" SelectedIndex="0" Margin="0,0,0,5"/>

                                <TextBlock Text="Family (for beasts)" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center"/>
                                <ComboBox x:Name="CreatureFamilyCombo" Grid.Row="3" Grid.Column="1" SelectedIndex="0" Margin="0,0,0,5"/>

                                <TextBlock Text="Model DisplayID" Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" Margin="80,0,0,0"/>
                                <TextBox x:Name="CreatureDisplayIdBox" Grid.Row="3" Grid.Column="3" Text="0" Margin="0,0,0,5"/>
                            </Grid>
                        </GroupBox>

                        <GroupBox Header="Flags (Beginner Friendly)" Padding="10" Margin="0,10,0,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel>
                                    <TextBlock Text="NPC Flags" FontWeight="Bold" Margin="0,0,0,6"/>
                                    <WrapPanel x:Name="NpcFlagWrap"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Unit Flags" FontWeight="Bold" Margin="0,0,0,6"/>
                                    <WrapPanel x:Name="UnitFlagsWrap"/>
                                </StackPanel>

                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Unit Flags 2" FontWeight="Bold" Margin="0,0,0,6"/>
                                    <WrapPanel x:Name="UnitFlags2Wrap"/>
                                </StackPanel>

                                <StackPanel Grid.Column="3">
                                    <TextBlock Text="Extra Flags" FontWeight="Bold" Margin="0,0,0,6"/>
                                    <WrapPanel x:Name="FlagsExtraWrap"/>
                                </StackPanel>
                            </Grid>
                        </GroupBox>

                        <!-- Flags -->
                        <GroupBox Header="Stats" Padding="10" Margin="0,10,0,0">
                            <Grid Grid.IsSharedSizeScope="True">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110" SharedSizeGroup="Label"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="110" SharedSizeGroup="Label"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Rank" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <ComboBox x:Name="CreatureRankCombo" Grid.Row="0" Grid.Column="1" Margin="0,0,12,6">
                                    <ComboBoxItem Content="Normal" Tag="0" IsSelected="True"/>
                                    <ComboBoxItem Content="Elite" Tag="1"/>
                                    <ComboBoxItem Content="Rare Elite" Tag="2"/>
                                    <ComboBoxItem Content="Boss" Tag="3"/>
                                    <ComboBoxItem Content="Rare" Tag="4"/>
                                </ComboBox>

                                <CheckBox x:Name="CreatureRacialLeaderCheck" Content="Is racial leader" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="0,0,12,6"/>
                                <CheckBox x:Name="CreatureRegenHealthCheck" Content="Regenerate health" Grid.Row="0" Grid.Column="3" VerticalAlignment="Center" Margin="0,0,0,6"/>

                                <TextBlock Text="Level" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Margin="0,0,12,6">
                                    <TextBox x:Name="CreatureMinLevelBox" Width="60" Text="1" Margin="0,0,6,0"/>
                                    <TextBlock Text="-" VerticalAlignment="Center" Margin="0,0,6,0"/>
                                    <TextBox x:Name="CreatureMaxLevelBox" Width="60" Text="1"/>
                                </StackPanel>

                                <TextBlock Text="Damage Type" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <ComboBox x:Name="CreatureDamageSchoolCombo" Grid.Row="2" Grid.Column="1" Margin="0,0,12,6">
                                    <ComboBoxItem Content="Physical" Tag="0" IsSelected="True"/>
                                    <ComboBoxItem Content="Holy" Tag="1"/>
                                    <ComboBoxItem Content="Fire" Tag="2"/>
                                    <ComboBoxItem Content="Nature" Tag="3"/>
                                    <ComboBoxItem Content="Frost" Tag="4"/>
                                    <ComboBoxItem Content="Shadow" Tag="5"/>
                                    <ComboBoxItem Content="Arcane" Tag="6"/>
                                </ComboBox>

                                <TextBlock Text="Attack Speed (ms)" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureBaseAttackTimeBox" Grid.Row="3" Grid.Column="1" Text="1500" Margin="0,0,12,6"/>

                                <TextBlock Text="Ranged Speed (ms)" Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureRangeAttackTimeBox" Grid.Row="3" Grid.Column="3" Text="2000" Margin="0,0,0,6"/>

                                <TextBlock Text="Unit Class" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <ComboBox x:Name="CreatureUnitClassCombo" Grid.Row="4" Grid.Column="1" Margin="0,0,12,0">
                                    <ComboBoxItem Content="Warrior (Health only)" Tag="1" IsSelected="True"/>
                                    <ComboBoxItem Content="Paladin (Health &amp; mana)" Tag="2"/>
                                    <ComboBoxItem Content="Mage (Less health &amp; more mana)" Tag="4"/>
                                </ComboBox>
                            </Grid>
                        </GroupBox>

                        <GroupBox Header="Detailed Stats" Padding="10" Margin="0,10,0,0">
                            <Grid Grid.IsSharedSizeScope="True">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110" SharedSizeGroup="Label"/>
                                    <ColumnDefinition Width="90"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="90"/>
                                    <ColumnDefinition Width="110" SharedSizeGroup="Label"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Health" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureMinHealthBox" Grid.Row="0" Grid.Column="1" Text="0" Margin="0,0,6,6"/>
                                <TextBlock Text="-" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="0,0,6,6"/>
                                <TextBox x:Name="CreatureMaxHealthBox" Grid.Row="0" Grid.Column="3" Text="0" Margin="0,0,0,6"/>

                                <TextBlock Text="Mana" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureMinManaBox" Grid.Row="1" Grid.Column="1" Text="0" Margin="0,0,6,6"/>
                                <TextBlock Text="-" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" Margin="0,0,6,6"/>
                                <TextBox x:Name="CreatureMaxManaBox" Grid.Row="1" Grid.Column="3" Text="0" Margin="0,0,0,6"/>

                                <TextBlock Text="Melee Damage" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureMinDmgBox" Grid.Row="2" Grid.Column="1" Text="0" Margin="0,0,6,6"/>
                                <TextBlock Text="-" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" Margin="0,0,6,6"/>
                                <TextBox x:Name="CreatureMaxDmgBox" Grid.Row="2" Grid.Column="3" Text="0" Margin="0,0,0,6"/>

                                <TextBlock Text="Ranged Damage" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureMinRangedDmgBox" Grid.Row="3" Grid.Column="1" Text="0" Margin="0,0,6,6"/>
                                <TextBlock Text="-" Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" Margin="0,0,6,6"/>
                                <TextBox x:Name="CreatureMaxRangedDmgBox" Grid.Row="3" Grid.Column="3" Text="0" Margin="0,0,0,6"/>

                                <TextBlock Text="Melee Attack Power" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureAttackPowerBox" Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="3" Text="0" Margin="0,0,0,6"/>

                                <TextBlock Text="Ranged Attack Power" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureRangedAttackPowerBox" Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="3" Text="0" Margin="0,0,0,6"/>

                                <TextBlock Text="Armor" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureArmorBox" Grid.Row="6" Grid.Column="1" Grid.ColumnSpan="3" Text="0" Margin="0,0,0,6"/>

                                <CheckBox x:Name="CreatureCivilianCheck" Content="Is civilian? (Dishonorable Kill)" Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="4" Margin="0,4,0,0"/>
                            </Grid>
                        </GroupBox>

                        <!-- Spawn -->
                        <GroupBox Header="Equipment" Padding="10" Margin="0,10,0,0">
                            <Grid Grid.IsSharedSizeScope="True">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" SharedSizeGroup="EquipLbl"/>
                                    <ColumnDefinition Width="*" MinWidth="220"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Weapon 1" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureEquipItem1Box" Grid.Row="0" Grid.Column="1" Text="0" Margin="0,0,775,6"
                                         GotFocus="CreatureEquipLookupTarget_GotFocus"/>

                                <TextBlock Text="Weapon 2" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                <TextBox x:Name="CreatureEquipItem2Box" Grid.Row="1" Grid.Column="1" Text="0" Margin="0,0,775,6"
                                         GotFocus="CreatureEquipLookupTarget_GotFocus"/>

                                <TextBlock Text="Ranged Weapon" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBox x:Name="CreatureEquipItem3Box" Grid.Row="2" Grid.Column="1" Text="0" Margin="0,0,775,0"
                                         GotFocus="CreatureEquipLookupTarget_GotFocus"/>

                                <Button Grid.Row="0" Grid.Column="2" Grid.RowSpan="3"
                                        Content="Find Item"
                                        Width="110"
                                        VerticalAlignment="Top"
                                        Click="CreatureFindEquipment_Click"/>
                            </Grid>
                        </GroupBox>

                        <GroupBox Header="Spawn (Optional) - adds a row to creature table" Padding="10" Margin="0,10,0,0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <CheckBox x:Name="CreatureSpawnEnable"
                                          Grid.Row="0"
                                          Content="Create Spawn"
                                          Margin="0,0,0,8"
                                          Checked="CreatureSpawnEnable_Checked"
                                          Unchecked="CreatureSpawnEnable_Unchecked"/>

                                <Grid x:Name="CreatureSpawnFieldsGrid" Grid.Row="1" Visibility="Collapsed">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="110"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="130"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Map" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,6,0"/>
                                    <TextBox x:Name="CreatureMapBox" Grid.Row="0" Grid.Column="1" Text="0"/>

                                    <TextBlock Text="X" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="12,0,6,0"/>
                                    <TextBox x:Name="CreatureXBox" Grid.Row="0" Grid.Column="3" Text="0"/>

                                    <TextBlock Text="Y" Grid.Row="0" Grid.Column="4" VerticalAlignment="Center" Margin="12,0,6,0"/>
                                    <TextBox x:Name="CreatureYBox" Grid.Row="0" Grid.Column="5" Text="0"/>

                                    <TextBlock Text="Z" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,6,0"/>
                                    <TextBox x:Name="CreatureZBox" Grid.Row="1" Grid.Column="1" Text="0"/>

                                    <TextBlock Text="O" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" Margin="12,0,6,0"/>
                                    <TextBox x:Name="CreatureOBox" Grid.Row="1" Grid.Column="3" Text="0"/>

                                    <TextBlock Text="Respawn (sec)" Grid.Row="1" Grid.Column="4" VerticalAlignment="Center" Margin="12,0,6,0"/>
                                    <TextBox x:Name="CreatureRespawnBox" Grid.Row="1" Grid.Column="5" Text="120"/>
                                </Grid>
                            </Grid>
                        </GroupBox>

                        <!-- Equipment (creature_equip_template) -->


                        <!-- Speech -->
                        <GroupBox Header="Speech / Text (creature_text)" Padding="10" Margin="0,10,0,0">
                            <StackPanel>
                                <CheckBox x:Name="SpeechEnable" Content="Enable Speech rows (creature_text)" Margin="0,0,0,8" Checked="SpeechEnable_Checked" Unchecked="SpeechEnable_Unchecked"/>
                                <StackPanel x:Name="SpeechFieldsPanel" Visibility="Collapsed">

                                    <Grid Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="160"/>
                                            <ColumnDefinition Width="200"/>
                                            <ColumnDefinition Width="160"/>
                                            <ColumnDefinition Width="200"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Text="Text GroupID" Grid.Column="0" VerticalAlignment="Center"/>
                                        <TextBox x:Name="SpeechGroupIdBox" Grid.Column="1" Text="0"/>

                                        <TextBlock Text="Type" Grid.Column="2" VerticalAlignment="Center" Margin="130,0,0,0"/>
                                        <ComboBox x:Name="SpeechTypeCombo" Grid.Column="3" SelectedIndex="0" Margin="55,0,5,0">
                                            <ComboBoxItem Content="SAY"/>
                                            <ComboBoxItem Content="YELL"/>
                                            <ComboBoxItem Content="WHISPER"/>
                                        </ComboBox>

                                        <Button Grid.Column="4" Content="Add Line" HorizontalAlignment="Right" Width="120" Click="SpeechAddLine_Click"/>
                                    </Grid>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="140"/>
                                            <!-- right-side button column (aligns with Add Line above) -->
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- Row 0: Text + Sound -->
                                        <TextBlock Text="Text" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,6"/>
                                        <TextBox x:Name="SpeechTextBox" Grid.Row="0" Grid.Column="1" Margin="0,0,12,6"/>

                                        <TextBlock Text="Sound" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,8,6"/>
                                        <TextBox x:Name="SpeechSoundBox" Grid.Row="0" Grid.Column="3" Text="0" Margin="0,0,0,6"/>

                                        <!-- Row 1: Emote directly under Sound, lined up the same -->
                                        <TextBlock Text="Emote" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,8,0"/>
                                        <TextBox x:Name="SpeechEmoteBox" Grid.Row="1" Grid.Column="3" Text="0" ToolTip="Emote (optional)"/>

                                        <!-- Find Emote directly under Add Line (right aligned) -->
                                        <Button Grid.Row="1" Grid.Column="4" Content="Find Emote" HorizontalAlignment="Right" Width="120" Click="FindEmote_Click"/>
                                    </Grid>

                                    <ListBox x:Name="SpeechLinesList" Margin="0,10,0,0" Height="120"/>
                                    <Button Content="Remove Selected Line" Width="180" Margin="0,8,0,0" Click="SpeechRemoveLine_Click"/>
                                </StackPanel>

                            </StackPanel>
                        </GroupBox>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ===================== ITEM TAB ===================== -->
            <TabItem Header="Item">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="320"/>
                            </Grid.ColumnDefinitions>

                            <!-- ================= LEFT: FIELDS ================= -->
                            <StackPanel Grid.Column="0" Margin="0,0,10,0">

                                <DockPanel LastChildFill="True">
                                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                                        <TextBlock Text="Item Entry" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBox x:Name="ItemEntryBox" Width="140" Text="0"/>
                                        <TextBlock x:Name="ItemNextIdHint" Foreground="Gray" Margin="10,4,0,0"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                        <Button Content="Generate SQL" Width="120" Margin="0,0,8,0" Click="ItemGenerateSql_Click"/>
                                        <Button Content="Apply to DB" Width="120" Margin="0,0,8,0" Click="ItemApplyDb_Click"/>
                                        <Button Content="Export .sql" Width="120" Click="ItemExportSql_Click"/>
                                    </StackPanel>
                                </DockPanel>

                                <GroupBox Header="Beginner Fields" Margin="0,8,0,0">
                                    <StackPanel>
                                        <Grid Margin="1" Grid.IsSharedSizeScope="True">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" SharedSizeGroup="Lbl"/>
                                                <ColumnDefinition Width="*" MinWidth="220"/>
                                                <ColumnDefinition Width="20"/>
                                                <ColumnDefinition Width="Auto" SharedSizeGroup="Lbl"/>
                                                <ColumnDefinition Width="*" MinWidth="220"/>
                                            </Grid.ColumnDefinitions>

                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!-- Row 0 -->
                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Name" VerticalAlignment="Center" Margin="0,0,8,4"/>
                                            <TextBox   Grid.Row="0" Grid.Column="1" x:Name="ItemNameBox" Margin="0,0,0,6"/>

                                            <TextBlock Grid.Row="0" Grid.Column="3" Text="DisplayID" VerticalAlignment="Center" Margin="0,0,8,4"/>
                                            <TextBox   Grid.Row="0" Grid.Column="4" x:Name="ItemDisplayIdBox" Margin="0,0,0,6"/>

                                            <!-- Row 1 -->
                                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Quality" VerticalAlignment="Center" Margin="0,0,8,4"/>
                                            <ComboBox  Grid.Row="1" Grid.Column="1" x:Name="ItemQualityBox" Margin="0,0,0,6"/>

                                            <TextBlock Grid.Row="1" Grid.Column="3" Text="Class" VerticalAlignment="Center" Margin="0,0,8,4"/>
                                            <ComboBox  Grid.Row="1" Grid.Column="4" x:Name="ItemClassBox" Margin="0,0,0,6"/>

                                            <!-- Row 2 -->
                                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Subclass" VerticalAlignment="Center" Margin="0,0,8,4"/>
                                            <ComboBox  Grid.Row="2" Grid.Column="1" x:Name="ItemSubclassBox" Margin="0,0,0,6"/>

                                            <TextBlock Grid.Row="2" Grid.Column="3" Text="Equip Slot" VerticalAlignment="Center" Margin="0,0,8,4"/>
                                            <ComboBox  Grid.Row="2" Grid.Column="4" x:Name="ItemInventoryTypeBox" Margin="0,0,0,6"/>

                                            <!-- Row 3 -->
                                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Req Level" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                            <TextBox   Grid.Row="3" Grid.Column="1" x:Name="ItemReqLevelBox"
                                                       TextChanged="ItemPreview_Changed"/>

                                            <TextBlock Grid.Row="3" Grid.Column="3" Text="Item Level" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                            <TextBox   Grid.Row="3" Grid.Column="4" x:Name="ItemLevelBox"
                                                       TextChanged="ItemPreview_Changed"/>

                                            <!-- Row 4 -->
                                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Stack Count" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                            <TextBox   Grid.Row="4" Grid.Column="1" x:Name="ItemStackableBox"/>


                                            <!-- Row 5 -->
                                            <TextBlock Grid.Row="5" Grid.Column="0" Text="Durability" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                            <TextBox   Grid.Row="5" Grid.Column="1" x:Name="ItemDurabilityBox" Text="0" TextChanged="ItemPreview_Changed"/>
                                        </Grid>
                                        <GroupBox Header="Stats" Margin="0,10,0,0" Padding="8">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <Grid Grid.Row="0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="220"/>
                                                        <ColumnDefinition Width="120"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>

                                                    <ComboBox x:Name="ItemStatTypeBox"
                                                          Grid.Column="0"
                                                          MinWidth="200"
                                                          SelectionChanged="ItemPreview_Changed">
                                                        <ComboBoxItem Content="Strength"/>
                                                        <ComboBoxItem Content="Agility"/>
                                                        <ComboBoxItem Content="Stamina"/>
                                                        <ComboBoxItem Content="Intellect"/>
                                                        <ComboBoxItem Content="Spirit"/>
                                                        <ComboBoxItem Content="Mana"/>
                                                        <ComboBoxItem Content="Health"/>
                                                        <ComboBoxItem Content="Defense skill"/>
                                                        <ComboBoxItem Content="Dodge"/>
                                                        <ComboBoxItem Content="Parry"/>
                                                        <ComboBoxItem Content="Block"/>
                                                        <ComboBoxItem Content="Hit"/>
                                                        <ComboBoxItem Content="Crit Rating"/>
                                                        <ComboBoxItem Content="Haste"/>
                                                        <ComboBoxItem Content="Resilience"/>
                                                        <ComboBoxItem Content="Expertise"/>
                                                        <ComboBoxItem Content="Attack power"/>
                                                        <ComboBoxItem Content="Spell power"/>
                                                    </ComboBox>

                                                    <TextBox x:Name="ItemStatValueBox"
                                                         Grid.Column="1"
                                                         Text="0"
                                                         TextChanged="ItemPreview_Changed"
                                                         VerticalContentAlignment="Center"
                                                         MinWidth="80"/>

                                                    <Button x:Name="ItemStatAddButton"
                                                        Grid.Column="2"
                                                        Content="+ Add"
                                                        Margin="8,0,0,0"
                                                        Padding="12,4"
                                                        Click="ItemStatAdd_Click"/>
                                                </Grid>

                                                <ItemsControl x:Name="ItemStatsList"
                                                            Grid.Row="1"
                                                            Margin="0,8,0,0">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Grid Margin="0,2,0,2">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="220"/>
                                                                    <ColumnDefinition Width="120"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>

                                                                <TextBlock Text="{Binding Name}" Grid.Column="0" VerticalAlignment="Center"/>
                                                                <TextBlock Text="{Binding Value}" Grid.Column="1" VerticalAlignment="Center"/>

                                                                <Button Grid.Column="2"
                                                                    Content="âœ–"
                                                                    Padding="8,2"
                                                                    Margin="8,0,0,0"
                                                                    Tag="{Binding}"
                                                                    Click="ItemStatRemove_Click"/>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </Grid>
                                        </GroupBox>

                                    </StackPanel>
                                </GroupBox>


                                <CheckBox x:Name="ItemAdvancedToggle" Content="Show Advanced Fields" Margin="0,10,0,0"
                                          Checked="ItemOptionToggle_Changed" Unchecked="ItemOptionToggle_Changed"/>

                                <GroupBox Header="Advanced Fields (basic subset)" Padding="10" Margin="0,10,0,0"
                                          x:Name="ItemAdvancedGrid" Visibility="Collapsed">
                                    <StackPanel>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="100"/>
                                                <ColumnDefinition Width="260"/>
                                                <ColumnDefinition Width="100"/>
                                                <ColumnDefinition Width="260"/>
                                            </Grid.ColumnDefinitions>

                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="28"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="28"/>
                                                <RowDefinition Height="28"/>
                                            </Grid.RowDefinitions>

                                            <!-- BUY PRICE -->
                                            <TextBlock Text="Buy Price" Grid.Row="0" Grid.Column="0" VerticalAlignment="Stretch"/>
                                            <Grid Grid.Row="0" Grid.Column="1" VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="20"/>
                                                    <ColumnDefinition Width="55"/>
                                                    <ColumnDefinition Width="12"/>
                                                    <ColumnDefinition Width="14"/>
                                                    <ColumnDefinition Width="55"/>
                                                    <ColumnDefinition Width="12"/>
                                                    <ColumnDefinition Width="14"/>
                                                    <ColumnDefinition Width="55"/>
                                                </Grid.ColumnDefinitions>

                                                <Ellipse Grid.Column="0" Width="10" Height="10" VerticalAlignment="Center" Fill="#D4AF37"/>
                                                <TextBox Grid.Column="1" x:Name="ItemBuyGoldBox" Height="22" VerticalContentAlignment="Center" Padding="4,0,4,0"                                                         
                                                         PreviewTextInput="MoneyBox_PreviewTextInput"
                                                         TextChanged="BuyMoney_TextChanged"/>

                                                <Ellipse Grid.Column="3" Width="10" Height="10" VerticalAlignment="Center" Fill="#C0C0C0"/>
                                                <TextBox Grid.Column="4" x:Name="ItemBuySilverBox" Height="22" VerticalContentAlignment="Center" Padding="4,0,4,0"                                                         
                                                         PreviewTextInput="MoneyBox_PreviewTextInput"
                                                         TextChanged="BuyMoney_TextChanged"/>

                                                <Ellipse Grid.Column="6" Width="10" Height="10" VerticalAlignment="Center" Fill="#B87333"/>
                                                <TextBox Grid.Column="7" x:Name="ItemBuyCopperBox" Height="22" VerticalContentAlignment="Center" Padding="4,0,4,0"                                                         
                                                         PreviewTextInput="MoneyBox_PreviewTextInput"
                                                         TextChanged="BuyMoney_TextChanged"/>
                                            </Grid>

                                            <!-- SELL PRICE -->
                                            <TextBlock Text="Sell Price" Grid.Row="0" Grid.Column="2" VerticalAlignment="Stretch" Padding="26,0,4,0"/>
                                            <Grid Grid.Row="0" Grid.Column="3" VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="20"/>
                                                    <ColumnDefinition Width="55"/>
                                                    <ColumnDefinition Width="12"/>
                                                    <ColumnDefinition Width="14"/>
                                                    <ColumnDefinition Width="55"/>
                                                    <ColumnDefinition Width="12"/>
                                                    <ColumnDefinition Width="14"/>
                                                    <ColumnDefinition Width="55"/>
                                                </Grid.ColumnDefinitions>

                                                <Ellipse Grid.Column="0" Width="10" Height="10" VerticalAlignment="Center" Fill="#D4AF37"/>
                                                <TextBox Grid.Column="1" x:Name="ItemSellGoldBox" Height="22" VerticalContentAlignment="Center" Padding="4,0,4,0"  
                                                         PreviewTextInput="MoneyBox_PreviewTextInput"
                                                         TextChanged="SellMoney_TextChanged"/>

                                                <Ellipse Grid.Column="3" Width="10" Height="10" VerticalAlignment="Center" Fill="#C0C0C0"/>
                                                <TextBox Grid.Column="4" x:Name="ItemSellSilverBox" Height="22" VerticalContentAlignment="Center" Padding="4,0,4,0"  
                                                         PreviewTextInput="MoneyBox_PreviewTextInput"
                                                         TextChanged="SellMoney_TextChanged"/>

                                                <Ellipse Grid.Column="6" Width="10" Height="10" VerticalAlignment="Center" Fill="#B87333"/>
                                                <TextBox Grid.Column="7" x:Name="ItemSellCopperBox" Height="22" VerticalContentAlignment="Center" Padding="4,0,4,0"  
                                                         PreviewTextInput="MoneyBox_PreviewTextInput"
                                                         TextChanged="SellMoney_TextChanged"/>
                                            </Grid>

                                            <!-- Binding / Armor -->
                                            <TextBlock Text="Binding" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="ItemBondingBox" Grid.Row="1" Grid.Column="1"/>

                                            <TextBlock Text="Armor" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" Padding="26,0,4,0"/>
                                            <TextBox x:Name="ItemArmorBox" Grid.Row="1" Grid.Column="3" Text="0"/>

                                            <!-- Damage Min / Max -->
                                            <TextBlock Text="Damage Min" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center"/>
                                            <TextBox x:Name="ItemDmgMinBox" Grid.Row="2" Grid.Column="1" Text="0"/>

                                            <TextBlock Text="Damage Max" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" Padding="26,0,4,0"/>
                                            <TextBox x:Name="ItemDmgMaxBox" Grid.Row="2" Grid.Column="3" Text="0"/>

                                            <!-- Buy Count + Auto 25% -->
                                            <TextBlock Text="Buy Count" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center"/>

                                            <TextBox x:Name="ItemBuyCountBox"
                                                     Grid.Row="3" Grid.Column="1"
                                                     Width="260" Height="22"
                                                     HorizontalAlignment="Left"
                                                     VerticalContentAlignment="Center"
                                                     Padding="4,0,4,0"
                                                     Text="1"
                                                     PreviewTextInput="MoneyBox_PreviewTextInput"/>


                                            <CheckBox x:Name="ItemAutoSell25Check"
                                                      Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2"
                                                      VerticalAlignment="Center"                                                      
                                                      Margin="26,0,0,0"
                                                      Content="Automatically set sell price to 25%"
                                                      Checked="ItemAutoSell25Check_Changed"
                                                      Unchecked="ItemAutoSell25Check_Changed"/>



                                            <!-- Weapon Speed + Damage Type -->
                                            <TextBlock Text="Speed (ms)" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center"/>
                                            <TextBox x:Name="ItemSpeedBox" Grid.Row="4" Grid.Column="1" Text="0" TextChanged="ItemPreview_Changed"/>

                                            <TextBlock Text="Damage Type" Grid.Row="4" Grid.Column="2" VerticalAlignment="Center" Padding="26,0,4,0"/>
                                            <ComboBox x:Name="ItemDamageTypeBox" Grid.Row="4" Grid.Column="3" SelectionChanged="ItemPreview_Changed" SelectedIndex="0">
                                                <ComboBoxItem Content="Physical" Tag="0"/>
                                                <ComboBoxItem Content="Holy" Tag="1"/>
                                                <ComboBoxItem Content="Fire" Tag="2"/>
                                                <ComboBoxItem Content="Nature" Tag="3"/>
                                                <ComboBoxItem Content="Frost" Tag="4"/>
                                                <ComboBoxItem Content="Shadow" Tag="5"/>
                                                <ComboBoxItem Content="Arcane" Tag="6"/>
                                            </ComboBox>
                                        </Grid>

                                        <!-- Container / Bag properties (Trinity-style). Only shown when Item Class = Container. -->
                                        <GroupBox x:Name="ItemContainerGroup" Header="Container Properties" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="170"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <TextBlock Text="Bag Slots" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ItemContainerSlotsBox" Grid.Row="0" Grid.Column="1" Text="0" PreviewTextInput="ItemContainerSlotsBox_PreviewTextInput" TextChanged="ItemContainerSlotsBox_TextChanged"/>

                                                <GroupBox Header="Check to add limits" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Padding="8" Margin="0,10,0,0">
                                                    <ScrollViewer VerticalScrollBarVisibility="Auto" Height="150">
                                                        <UniformGrid Columns="2">
                                                            <CheckBox x:Name="BagFamilyArrows" Content="Arrows"/>
                                                            <CheckBox x:Name="BagFamilyBullets" Content="Bullets"/>
                                                            <CheckBox x:Name="BagFamilySoulShards" Content="Soul Shards"/>
                                                            <CheckBox x:Name="BagFamilyLeatherworking" Content="Leatherworking Supplies"/>
                                                            <CheckBox x:Name="BagFamilyInscription" Content="Inscription Supplies"/>
                                                            <CheckBox x:Name="BagFamilyHerbs" Content="Herbs"/>
                                                            <CheckBox x:Name="BagFamilyEnchanting" Content="Enchanting Supplies"/>
                                                            <CheckBox x:Name="BagFamilyEngineering" Content="Engineering Supplies"/>
                                                            <CheckBox x:Name="BagFamilyKeys" Content="Keys"/>
                                                            <CheckBox x:Name="BagFamilyGems" Content="Gems"/>
                                                            <CheckBox x:Name="BagFamilyMining" Content="Mining Supplies"/>
                                                            <CheckBox x:Name="BagFamilySoulbound" Content="Soulbound Equipment"/>
                                                            <CheckBox x:Name="BagFamilyVanityPets" Content="Vanity Pets"/>
                                                            <CheckBox x:Name="BagFamilyCurrency" Content="Currency Tokens"/>
                                                            <CheckBox x:Name="BagFamilyQuestItems" Content="Quest Items"/>
                                                        </UniformGrid>
                                                    </ScrollViewer>
                                                </GroupBox>
                                            </Grid>
                                        </GroupBox>

                                    </StackPanel>
                                </GroupBox>

                                <!-- ================= ADVANCED (Trinity-style toggles) ================= -->

                                <GroupBox x:Name="ItemFlagsGroup"
          Header="Item Behavior &amp; Restrictions"
          Padding="10"
          Margin="0,10,0,0"
          Visibility="Collapsed">

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="16"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- Titles -->
                                        <TextBlock Grid.Row="0" Grid.Column="0"
                   Text="Core Behavior (Flags)"
                   FontWeight="SemiBold"
                   Margin="0,0,0,6"/>

                                        <TextBlock Grid.Row="0" Grid.Column="2"
                   Text="Extra Rules (FlagsExtra)"
                   FontWeight="SemiBold"
                   Margin="0,0,0,6"/>

                                        <!-- Checklists -->
                                        <ScrollViewer Grid.Row="1" Grid.Column="0"
                      VerticalScrollBarVisibility="Auto"
                      Height="140">
                                            <UniformGrid Columns="2" Margin="0,0,0,0">
                                                <CheckBox x:Name="Flag_Conjured" Content="Conjured" Tag="2"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_Openable" Content="Openable" Tag="4"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_HeroicTooltip" Content="Heroic tooltip" Tag="8"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_NoDestroy" Content="Cannot be destroyed (spell only)" Tag="32"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_NoEquipCooldown" Content="No equip cooldown" Tag="128"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_Wrapper" Content="Wrapper (can wrap items)" Tag="512"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_PartyLoot" Content="Party loot (lootable by all)" Tag="2048"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_Refundable" Content="Refundable" Tag="4096"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_Prospectable" Content="Prospectable" Tag="262144"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_UniqueEquipped" Content="Unique-Equipped" Tag="524288"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_UseInArena" Content="Usable in arena" Tag="2097152"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_Throwable" Content="Throwable (tooltip)" Tag="4194304"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_UseInShapeshift" Content="Usable in shapeshift" Tag="8388608"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_RecipeLootReq" Content="Recipe: loot requires not known" Tag="33554432"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_NoArenaUse" Content="Cannot be used in arena" Tag="67108864"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_BindToAccount" Content="Bind to Account (BoA)" Tag="134217728"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_NoReagentCost" Content="No reagent cost (triggered cast)" Tag="268435456"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                                <CheckBox x:Name="Flag_Millable" Content="Millable" Tag="536870912"
                          Checked="ItemFlagCheck_Changed" Unchecked="ItemFlagCheck_Changed"/>
                                            </UniformGrid>
                                        </ScrollViewer>

                                        <ScrollViewer Grid.Row="1" Grid.Column="2"
                      VerticalScrollBarVisibility="Auto"
                      Height="140">
                                            <UniformGrid Columns="2" Margin="0,0,0,0">
                                                <CheckBox x:Name="Extra_HordeOnly" Content="Horde only" Tag="1"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_AllianceOnly" Content="Alliance only" Tag="2"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_ExtCostAlsoGold" Content="ExtendedCost also requires gold" Tag="4"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_NeedRollDisabledA" Content="Need roll disabled (0x0100)" Tag="256"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_NeedRollDisabledB" Content="Need roll disabled (0x0200)" Tag="512"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_HasNormalPrice" Content="Has normal price" Tag="16384"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_BNetAccountBound" Content="BNet account bound" Tag="131072"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_CannotBeTransmog" Content="Cannot be transmog" Tag="2097152"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_CannotTransmog" Content="Cannot transmog" Tag="4194304"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                                <CheckBox x:Name="Extra_CanTransmog" Content="Can transmog" Tag="8388608"
                          Checked="ItemExtraFlagCheck_Changed" Unchecked="ItemExtraFlagCheck_Changed"/>
                                            </UniformGrid>
                                        </ScrollViewer>

                                        <!-- Computed values (keep your existing TextBoxes, but hide them unless needed) -->
                                        <Grid Grid.Row="2" Grid.ColumnSpan="3" Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="140"/>
                                                <ColumnDefinition Width="24"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="140"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0" Text="Computed Flags:" VerticalAlignment="Center"/>
                                            <TextBox Grid.Column="1" x:Name="ItemFlagsBox" Text="0" IsReadOnly="True"/>

                                            <TextBlock Grid.Column="3" Text="Computed Extra:" VerticalAlignment="Center"/>
                                            <TextBox Grid.Column="4" x:Name="ItemFlagsExtraBox" Text="0" IsReadOnly="True"/>
                                        </Grid>
                                    </Grid>
                                </GroupBox>

                                <GroupBox x:Name="ItemAllowableClassGroup" Header="Classes Allowed" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                    <StackPanel>
                                        <TextBlock Foreground="Gray" Text="Select allowed classes. Mask is auto-calculated."/>
                                        <Grid Margin="0,8,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,10,0">
                                                <Button Content="All" Width="70" Margin="0,0,6,0" Click="ItemClassesAll_Click"/>
                                                <Button Content="None" Width="70" Click="ItemClassesNone_Click"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                                <TextBlock Text="Mask:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                                                <TextBox x:Name="ItemAllowableClassMaskBox" Width="140" Text="0" IsReadOnly="True"/>
                                            </StackPanel>
                                        </Grid>

                                        <UniformGrid x:Name="ItemClassChecksGrid" Columns="3" Margin="0,10,0,0">
                                            <CheckBox Content="Warrior" Tag="1" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Paladin" Tag="2" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Hunter" Tag="4" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Rogue" Tag="8" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Priest" Tag="16" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Death Knight" Tag="32" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Shaman" Tag="64" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Mage" Tag="128" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Warlock" Tag="256" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                            <CheckBox Content="Druid" Tag="1024" Checked="ItemClassMask_Changed" Unchecked="ItemClassMask_Changed"/>
                                        </UniformGrid>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox x:Name="ItemAllowableRaceGroup" Header="Races Allowed" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                    <StackPanel>
                                        <TextBlock Foreground="Gray" Text="Select allowed races. Mask is auto-calculated."/>
                                        <Grid Margin="0,8,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,10,0">
                                                <Button Content="All" Width="70" Margin="0,0,6,0" Click="ItemRacesAll_Click"/>
                                                <Button Content="None" Width="70" Click="ItemRacesNone_Click"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                                <TextBlock Text="Mask:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                                                <TextBox x:Name="ItemAllowableRaceMaskBox" Width="140" Text="0" IsReadOnly="True"/>
                                            </StackPanel>
                                        </Grid>

                                        <UniformGrid x:Name="ItemRaceChecksGrid" Columns="3" Margin="0,10,0,0">
                                            <CheckBox Content="Human" Tag="1" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Orc" Tag="2" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Dwarf" Tag="4" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Night Elf" Tag="8" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Undead" Tag="16" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Tauren" Tag="32" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Gnome" Tag="64" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Troll" Tag="128" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Blood Elf" Tag="512" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                            <CheckBox Content="Draenei" Tag="1024" Checked="ItemRaceMask_Changed" Unchecked="ItemRaceMask_Changed"/>
                                        </UniformGrid>
                                    </StackPanel>
                                </GroupBox>

                                <GroupBox x:Name="ItemResistGroup" Header="Magic Resistances" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="170"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="170"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Text="Holy" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ItemHolyResBox" Grid.Row="0" Grid.Column="1" Text="0"
                                                 TextChanged="ItemPreview_Changed"/>

                                        <TextBlock Text="Fire" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ItemFireResBox" Grid.Row="0" Grid.Column="3" Text="0"
                                                 TextChanged="ItemPreview_Changed"/>

                                        <TextBlock Text="Nature" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ItemNatureResBox" Grid.Row="1" Grid.Column="1" Text="0"
                                                 TextChanged="ItemPreview_Changed"/>

                                        <TextBlock Text="Frost" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ItemFrostResBox" Grid.Row="1" Grid.Column="3" Text="0"
                                                 TextChanged="ItemPreview_Changed"/>

                                        <TextBlock Text="Shadow" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ItemShadowResBox" Grid.Row="2" Grid.Column="1" Text="0"
                                                 TextChanged="ItemPreview_Changed"/>

                                        <TextBlock Text="Arcane" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ItemArcaneResBox" Grid.Row="2" Grid.Column="3" Text="0"
                                                 TextChanged="ItemPreview_Changed"/>
                                    </Grid>
                                </GroupBox>

                            </StackPanel>

                            <!-- ================= RIGHT: OPTIONS + PREVIEW ================= -->
                            <StackPanel Grid.Column="1">

                                <GroupBox Header="Item Preview" Padding="10">
                                    <!-- TrinityCreator-style tooltip (pure WPF; no client assets required) -->
                                    <Border CornerRadius="8" BorderThickness="1" BorderBrush="#2E3545" Padding="12">
                                        <Border.Background>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                <GradientStop Color="#111827" Offset="0"/>
                                                <GradientStop Color="#0B1220" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Border.Background>

                                        <StackPanel>
                                            <!-- Item name (quality-colored in code-behind) -->
                                            <TextBlock x:Name="ItemTooltipName"
                       FontSize="18"
                       FontWeight="SemiBold"
                       Foreground="White"
                       Text="(name)"/>

                                            <!-- Item level (under name) -->
                                            <TextBlock x:Name="ItemTooltipItemLevel"
                       Margin="0,4,0,0"
                       Foreground="White"
                       Opacity="0.85"
                       Visibility="Collapsed"
                       Text=""/>

                                            <!-- Binding line -->
                                            <TextBlock x:Name="ItemTooltipBind"
                       Margin="0,6,0,0"
                       Foreground="White"
                       Text=""/>

                                            <!-- Slot (left) + subclass/type (right) -->
                                            <Grid Margin="0,2,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock x:Name="ItemTooltipSlot" Grid.Column="0" Foreground="White" Text=""/>
                                                <TextBlock x:Name="ItemTooltipRight" Grid.Column="1" Foreground="White" Text=""/>
                                            </Grid>

                                            <!-- Weapon damage (optional) -->
                                            <TextBlock x:Name="ItemTooltipDamage"
                       Margin="0,6,0,0"
                       Foreground="White"
                       Visibility="Collapsed"
                       Text=""/>


                                            <TextBlock x:Name="ItemTooltipSpeed"
                       Foreground="White"
                       Opacity="0.9"
                       Visibility="Collapsed"
                       Text=""/>

                                            <TextBlock x:Name="ItemTooltipDps"
                       Foreground="White"
                       Opacity="0.8"
                       Visibility="Collapsed"
                       Text=""/>
                                            <!-- Armor (optional) -->
                                            <TextBlock x:Name="ItemTooltipArmor"
                       Margin="0,6,0,0"
                       Foreground="White"
                       Visibility="Collapsed"
                       Text=""/>

                                            <!-- Requirements / Item level -->
                                            <TextBlock x:Name="ItemTooltipReqLevel"
                       Margin="0,6,0,0"
                       Foreground="White"
                       Visibility="Collapsed"
                       Text=""/>
                                            <TextBlock x:Name="ItemTooltipClasses"
                       Margin="0,2,0,0"
                       Foreground="White"
                       Visibility="Collapsed"
                       Text=""/>
                                            <TextBlock x:Name="ItemTooltipDurability"
                       Margin="0,2,0,0"
                       Foreground="White"
                       Visibility="Collapsed"
                       Text=""/>
                                            <!-- Stat lines (optional; green) -->
                                            <ItemsControl x:Name="ItemTooltipStats" Margin="0,6,0,0" Visibility="Collapsed">
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Foreground="#00FF00" Text="{Binding}"/>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>

                                            <!-- Flavor text (optional; green italics) -->
                                            <TextBlock x:Name="ItemTooltipFlavor"
                       Margin="0,8,0,0"
                       Foreground="#00FF00"
                       FontStyle="Italic"
                       Visibility="Collapsed"
                       Text=""/>
                                        </StackPanel>
                                    </Border>
                                </GroupBox>

                                <GroupBox Header="Show/Hide Advanced Panels" Padding="10" Margin="0,10,0,0">
                                    <StackPanel>
                                        <CheckBox x:Name="ItemShowFlagsCheck" Content="Flags" Checked="ItemOptionToggle_Changed" Unchecked="ItemOptionToggle_Changed"/>
                                        <CheckBox x:Name="ItemShowClassesCheck" Content="Classes Allowed" Checked="ItemOptionToggle_Changed" Unchecked="ItemOptionToggle_Changed" Margin="0,6,0,0"/>
                                        <CheckBox x:Name="ItemShowRacesCheck" Content="Races Allowed" Checked="ItemOptionToggle_Changed" Unchecked="ItemOptionToggle_Changed" Margin="0,6,0,0"/>
                                        <CheckBox x:Name="ItemShowResistsCheck" Content="Magic Resistances" Checked="ItemOptionToggle_Changed" Unchecked="ItemOptionToggle_Changed" Margin="0,6,0,0"/>
                                    </StackPanel>
                                </GroupBox>

                            </StackPanel>
                        </Grid>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>


            <!-- ===================== QUEST TAB ===================== -->
            <TabItem Header="Quest">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="360" />
                    </Grid.ColumnDefinitions>
                    <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="0">

                            <DockPanel LastChildFill="True">
                                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                                    <TextBlock Text="Quest ID" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                    <TextBox x:Name="QuestIdBox" Width="140" Text="0"/>
                                    <TextBlock x:Name="QuestNextIdHint" Foreground="Gray" Margin="10,4,0,0"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                    <Button Content="Generate SQL" Width="120" Margin="0,0,8,0" Click="QuestGenerateSql_Click"/>
                                    <Button Content="Apply to DB" Width="120" Margin="0,0,8,0" Click="QuestApplyDb_Click"/>
                                    <Button Content="Export .sql" Width="120" Click="QuestExportSql_Click"/>
                                </StackPanel>
                            </DockPanel>

                            <GroupBox Header="Beginner Fields" Padding="10" Margin="0,10,0,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="170"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="170"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Text="Title (LogTitle)" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                                    <TextBox x:Name="QuestTitleBox" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" TextChanged="QuestPreview_Changed"/>

                                    <TextBlock Text="Description (QuestDescription)" Grid.Row="1" Grid.Column="0" VerticalAlignment="Top"/>
                                    <TextBox x:Name="QuestDetailsBox" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" Height="80"
                                         AcceptsReturn="True" TextWrapping="Wrap" TextChanged="QuestPreview_Changed"/>
                                    <TextBlock Text="Objectives Text" Grid.Row="2" Grid.Column="0" VerticalAlignment="Top"/>
                                    <TextBox x:Name="QuestObjectivesBox" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" Height="60"
                                         AcceptsReturn="True" TextWrapping="Wrap" TextChanged="QuestPreview_Changed"/>
                                    <TextBlock Text="Min Level" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center"/>
                                    <TextBox x:Name="QuestMinLevelBox" Grid.Row="3" Grid.Column="1" Text="1"/>

                                    <TextBlock Text="Quest Level" Grid.Row="3" Grid.Column="2" VerticalAlignment="Center"/>
                                    <TextBox x:Name="QuestLevelBox" Grid.Row="3" Grid.Column="3" Text="1"/>

                                    <TextBlock Text="Reward XP" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center"/>
                                    <TextBox x:Name="QuestRewardXpBox" Grid.Row="4" Grid.Column="1" Text="0" TextChanged="QuestPreview_Changed"/>

                                    <TextBlock Text="Reward Money (copper)" Grid.Row="4" Grid.Column="2" VerticalAlignment="Center"/>
                                    <TextBox x:Name="QuestRewardMoneyBox" Grid.Row="4" Grid.Column="3" Text="0" TextChanged="QuestPreview_Changed"/>
                                </Grid>
                            </GroupBox>

                            <CheckBox x:Name="QuestAdvancedToggle" Content="Show Advanced Fields" Margin="0,10,0,0"
                                  Checked="QuestAdvancedToggle_Changed" Unchecked="QuestAdvancedToggle_Changed"/>

                            <GroupBox Header="Advanced Fields (basic subset)" Padding="10" Margin="0,10,0,0"
                                  x:Name="QuestAdvancedGrid" Visibility="Collapsed">
                                <StackPanel>
                                    <TextBlock Foreground="Gray"
                                           Text="Advanced Quest Details"/>

                                    
                                    <!-- Quest Info / QuestType row -->
                                    <Grid Margin="0,10,0,0" Grid.IsSharedSizeScope="True">
                                        <Grid.ColumnDefinitions>
                                            <!-- Left pair -->
                                            <ColumnDefinition Width="130" SharedSizeGroup="QLabel"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <!-- Spacer -->
                                            <ColumnDefinition Width="24"/>
                                            <!-- Right pair -->
                                            <ColumnDefinition Width="Auto" SharedSizeGroup="QLabel"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Text="Quest Info"
               Grid.Column="0"
               VerticalAlignment="Center"
               Margin="0,0,8,0"/>

                                        <ComboBox x:Name="QuestInfoCombo"
              Grid.Column="1"
              Width="240"
              HorizontalAlignment="Left"
              SelectionChanged="QuestTypeCombo_SelectionChanged"/>

                                        <TextBlock Text="Quest Type"
                                                   Grid.Column="3"
                                                   VerticalAlignment="Center"
                                                   Margin="60,0,8,0"/>

                                        <ComboBox x:Name="QuestQuestTypeCombo"
                                                  Grid.Column="4"
                                                  Width="200"
                                                  HorizontalAlignment="Left"
                                                  SelectionChanged="QuestTypeCombo_SelectionChanged">
                                        <ComboBox.ItemContainerStyle>
                                                <Style TargetType="ComboBoxItem">
                                                    <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                                </Style>
                                        </ComboBox.ItemContainerStyle>
                                        </ComboBox>
                                    </Grid>

                                    <!-- Quest Sort row -->
                                    <Grid Margin="0,6,0,0" Grid.IsSharedSizeScope="True">
                                        <Grid.ColumnDefinitions>
                                            <!-- Left pair -->
                                            <ColumnDefinition Width="Auto" SharedSizeGroup="QLabel"/>
                                            <ColumnDefinition Width="*" />
                                            <!-- Spacer -->
                                            <ColumnDefinition Width="24"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Text="Quest Sort (QuestSortID)"
               Grid.Column="0"
               VerticalAlignment="Center"
               Margin="0,0,8,0"/>

                                        <!-- Text field + Find button (dropdown removed to avoid lag) -->
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                                            <TextBox x:Name="QuestSortBox"
                                                     Width="120"
                                                     Text="0"
                                                     ToolTip="QuestSortID (0 = none, &gt;0 = Zone AreaTable ID, &lt;0 = -QuestSort category ID)"
                                                     TextChanged="QuestPreview_Changed"/>
                                            <Button Content="Find Quest Sort"
                                                    Width="130"
                                                    Height="24"
                                                    Margin="8,0,0,0"
                                                    Click="QuestSortFind_Click"/>
                                        </StackPanel>
                                    </Grid>

                                    <GroupBox Header="Reputation Requirements (quest_template_addon)" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,-10,0,-10">
                                                <Button Content="Find Faction ID" Width="120" Height="24" Click="QuestFindFaction_Click"/>
                                            </StackPanel>

                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="160"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="110"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Required Min Rep Faction" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,0,0"/>
                                                <TextBox x:Name="QuestReqMinRepFactionBox" Grid.Row="0" Grid.Column="1" Text="0" Margin="0,0,0,0"
                                                     TextChanged="QuestPreview_Changed" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="QuestReqMinRepValueBox" Grid.Row="0" Grid.Column="3" Text="0"
                                                     TextChanged="QuestPreview_Changed"/>

                                                <TextBlock Text="Required Max Rep Faction" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,6,0,0"/>
                                                <TextBox x:Name="QuestReqMaxRepFactionBox" Grid.Row="1" Grid.Column="1" Text="0"
                                                     Margin="0,6,0,0" TextChanged="QuestPreview_Changed" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" Margin="10,6,0,0"/>
                                                <TextBox x:Name="QuestReqMaxRepValueBox" Grid.Row="1" Grid.Column="3" Text="0"
                                                     Margin="0,6,0,0" TextChanged="QuestPreview_Changed"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>


                                    <GroupBox Header="Required Items (RequiredItemId / RequiredItemCount) 1-6" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,-10,0,6">
                                                <Button Content="Find Item" Width="90" Height="24" Margin="0,0,0,0" Click="QuestFindItem_Click"/>
                                            </StackPanel>

                                            <Grid x:Name="ReqItemRow1" Margin="-20,-20,0,6">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item1" Grid.Column="0" VerticalAlignment="Center" Margin="20,0,0,0"/>
                                                <TextBox x:Name="ReqItemId1" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt1" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqItemCount1" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    IsEnabled="False" ToolTip="Row 1 is always present"/>
                                            </Grid>

                                            <Grid x:Name="ReqItemRow2" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item2" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqItemId2" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt2" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqItemCount2" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ReqItem:2"/>
                                            </Grid>

                                            <Grid x:Name="ReqItemRow3" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item3" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqItemId3" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt3" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqItemCount3" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ReqItem:3"/>
                                            </Grid>

                                            <Grid x:Name="ReqItemRow4" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item4" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqItemId4" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt4" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqItemCount4" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ReqItem:4"/>
                                            </Grid>

                                            <Grid x:Name="ReqItemRow5" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item5" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqItemId5" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt5" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqItemCount5" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ReqItem:5"/>
                                            </Grid>

                                            <Grid x:Name="ReqItemRow6" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item6" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqItemId6" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt6" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqItemCount6" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ReqItem:6"/>
                                            </Grid>

                                            <Button Content="+ Add required item" HorizontalAlignment="Left" Width="170"
                Click="QuestAddRow_Click" Tag="ReqItem" />
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox Header="Reward Items (RewardItemId / RewardItemCount) 1-4" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,6">
                                                <Button Content="Find Item" Width="90" Height="24" Margin="0,0,0,0" Click="QuestFindItem_Click"/>
                                            </StackPanel>

                                            <Grid x:Name="RewardItemRow1" Margin="0,-30,0,6">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item1" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardItemId1" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt1" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardItemCount1" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    IsEnabled="False" ToolTip="Row 1 is always present"/>
                                            </Grid>

                                            <Grid x:Name="RewardItemRow2" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item2" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardItemId2" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt2" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardItemCount2" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="RewardItem:2"/>
                                            </Grid>

                                            <Grid x:Name="RewardItemRow3" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item3" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardItemId3" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt3" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardItemCount3" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="RewardItem:3"/>
                                            </Grid>

                                            <Grid x:Name="RewardItemRow4" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item4" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardItemId4" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt4" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardItemCount4" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="RewardItem:4"/>
                                            </Grid>

                                            <Button Content="+ Add reward item" HorizontalAlignment="Left" Width="170"
                Click="QuestAddRow_Click" Tag="RewardItem" />
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox Header="Choice Rewards (RewardChoiceItemId / RewardChoiceItemCount) 1-6" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,6">
                                                <Button Content="Find Item" Width="90" Height="24" Margin="0,0,0,0" Click="QuestFindItem_Click"/>
                                            </StackPanel>

                                            <Grid x:Name="ChoiceItemRow1" Margin="0,-30,0,6">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item1" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ChoiceItemId1" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt1" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ChoiceItemCount1" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    IsEnabled="False" ToolTip="Row 1 is always present"/>
                                            </Grid>

                                            <Grid x:Name="ChoiceItemRow2" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item2" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ChoiceItemId2" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt2" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ChoiceItemCount2" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ChoiceItem:2"/>
                                            </Grid>

                                            <Grid x:Name="ChoiceItemRow3" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item3" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ChoiceItemId3" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt3" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ChoiceItemCount3" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ChoiceItem:3"/>
                                            </Grid>

                                            <Grid x:Name="ChoiceItemRow4" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item4" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ChoiceItemId4" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt4" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ChoiceItemCount4" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ChoiceItem:4"/>
                                            </Grid>

                                            <Grid x:Name="ChoiceItemRow5" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item5" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ChoiceItemId5" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt5" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ChoiceItemCount5" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ChoiceItem:5"/>
                                            </Grid>

                                            <Grid x:Name="ChoiceItemRow6" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="50"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Item6" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ChoiceItemId6" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt6" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ChoiceItemCount6" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                    Click="QuestRemoveRow_Click" Tag="ChoiceItem:6"/>
                                            </Grid>

                                            <Button Content="+ Add choice reward" HorizontalAlignment="Left" Width="170"
                Click="QuestAddRow_Click" Tag="ChoiceItem" />
                                        </StackPanel>
                                    </GroupBox>
                                    <GroupBox Header="Required NPC or GameObject (RequiredNpcOrGo / RequiredNpcOrGoCount) 1-4" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,6">
                                                <Button Content="Find NPC" Width="90" Height="24" Margin="0,0,6,0" Click="QuestFindNpc_Click"/>
                                                <Button Content="Find GO" Width="90" Height="24" Click="QuestFindGo_Click"/>
                                            </StackPanel>

                                            <Grid x:Name="ReqNpcGoRow1" Margin="0,-30,0,6">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Entry1" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqNpcGoId1" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt1" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqNpcGoCount1" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    IsEnabled="False" ToolTip="Row 1 is always present"/>
                                            </Grid>

                                            <Grid x:Name="ReqNpcGoRow2" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Entry2" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqNpcGoId2" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt2" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqNpcGoCount2" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="ReqNpcGo:2"/>
                                            </Grid>

                                            <Grid x:Name="ReqNpcGoRow3" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Entry3" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqNpcGoId3" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt3" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqNpcGoCount3" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="ReqNpcGo:3"/>
                                            </Grid>

                                            <Grid x:Name="ReqNpcGoRow4" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Entry4" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ReqNpcGoId4" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Cnt4" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="ReqNpcGoCount4" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="ReqNpcGo:4"/>
                                            </Grid>

                                            <Button Content="+ Add required NPC/GO" Width="220" HorizontalAlignment="Left"
                                                Click="QuestAddRow_Click" Tag="ReqNpcGo"/>
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox Header="Reward Reputation (RewardFactionID / RewardFactionValue) 1-5" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,6">
                                                <Button Content="Find Faction ID" Width="120" Height="24" Click="QuestFindFaction_Click"/>
                                            </StackPanel>

                                            <Grid x:Name="RepFactionRow1" Margin="0,-30,0,6">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="110"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Faction1" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardFactionId1" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value1" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardFactionValue1" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    IsEnabled="False" ToolTip="Row 1 is always present"/>
                                            </Grid>

                                            <Grid x:Name="RepFactionRow2" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="110"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Faction2" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardFactionId2" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value2" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardFactionValue2" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="RepFaction:2"/>
                                            </Grid>

                                            <Grid x:Name="RepFactionRow3" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="110"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Faction3" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardFactionId3" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value3" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardFactionValue3" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="RepFaction:3"/>
                                            </Grid>

                                            <Grid x:Name="RepFactionRow4" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="110"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Faction4" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardFactionId4" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value4" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardFactionValue4" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="RepFaction:4"/>
                                            </Grid>

                                            <Grid x:Name="RepFactionRow5" Margin="0,0,0,6" Visibility="Collapsed">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="140"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="110"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Faction5" Grid.Column="0" VerticalAlignment="Center"/>
                                                <TextBox x:Name="RewardFactionId5" Grid.Column="1" Text="0" TextChanged="QuestRowValueChanged" GotFocus="QuestLookupTarget_GotFocus"/>
                                                <TextBlock Text="Value5" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                <TextBox x:Name="RewardFactionValue5" Grid.Column="3" Text="0" TextChanged="QuestRowValueChanged"/>
                                                <Button Grid.Column="4" Content="âœ•" Width="26" Height="24" Margin="10,0,0,0"
                                                    Click="QuestRemoveRow_Click" Tag="RepFaction:5"/>
                                            </Grid>

                                            <Button Content="+ Add reputation reward" Width="200" HorizontalAlignment="Left"
                                                Click="QuestAddRow_Click" Tag="RepFaction"/>
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox Header="Quest Chain Data (Prev / Next)" Padding="10" Margin="0,10,0,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="170"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="170"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Text="Previous Quest ID" Grid.Column="0" VerticalAlignment="Center"/>
                                            <TextBox x:Name="QuestPrevQuestIdBox" Grid.Column="1" Text="0" Margin="-70,0,150,0"/>

                                            <TextBlock Text="Next Quest ID" Grid.Column="2" VerticalAlignment="Center" Margin="-130,0,0,0"/>
                                            <TextBox x:Name="QuestNextQuestIdBox" Grid.Column="3" Text="0" Margin="-220,0,290,0"/>
                                        </Grid>
                                    </GroupBox>

                                    <Separator Margin="0,12,0,8"/>

                                    <TextBlock Text="Quest Option Panels" Foreground="Gray"/>

                                    <WrapPanel Margin="0,6,0,0">
                                        <CheckBox x:Name="QuestShowFlagsToggle" Content="Quest Flags" Margin="0,0,14,0"
              Checked="QuestOptionToggle_Changed" Unchecked="QuestOptionToggle_Changed"/>
                                        <CheckBox x:Name="QuestShowSpecialFlagsToggle" Content="Special Flags" Margin="0,0,14,0"
              Checked="QuestOptionToggle_Changed" Unchecked="QuestOptionToggle_Changed"/>
                                        <CheckBox x:Name="QuestShowClassesToggle" Content="Classes Allowed" Margin="0,0,14,0"
              Checked="QuestOptionToggle_Changed" Unchecked="QuestOptionToggle_Changed"/>
                                        <CheckBox x:Name="QuestShowRacesToggle" Content="Races Allowed"
              Checked="QuestOptionToggle_Changed" Unchecked="QuestOptionToggle_Changed"/>
                                    </WrapPanel>

                                    <GroupBox x:Name="QuestFlagsGroup" Header="Quest Flags" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                        <StackPanel>
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="160"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="Flags (bitmask)" VerticalAlignment="Center"/>
                                                <TextBox x:Name="QuestFlagsBox" Grid.Column="1" Text="0" />
                                            </Grid>

                                            <WrapPanel>
                                                <CheckBox x:Name="QuestFlag_STAY_ALIVE" Content="Stay Alive" Tag="1" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_PARTY_ACCEPT" Content="Party Accept" Tag="2" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_EXPLORATION" Content="Exploration" Tag="4" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_SHARABLE" Content="Sharable" Tag="8" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_HAS_CONDITION" Content="Has Condition" Tag="16" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_HIDE_REWARD_POI" Content="Hide Reward POI" Tag="32" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_RAID" Content="Raid" Tag="64" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_TBC" Content="TBC Only" Tag="128" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_NO_MONEY_FROM_XP" Content="No Money From XP" Tag="256" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_HIDDEN_REWARDS" Content="Hidden Rewards" Tag="512" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_TRACKING" Content="Tracking" Tag="1024" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_DEPRECATE_REPUTATION" Content="Deprecate Reputation" Tag="2048" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_DAILY" Content="Daily" Tag="4096" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_FLAGS_PVP" Content="PvP" Tag="8192" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_UNAVAILABLE" Content="Unavailable" Tag="16384" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_WEEKLY" Content="Weekly" Tag="32768" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_AUTOCOMPLETE" Content="Auto Complete" Tag="65536" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_DISPLAY_ITEM_IN_TRACKER" Content="Display Item In Tracker" Tag="131072" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_OBJ_TEXT" Content="Objective Text As Complete" Tag="262144" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestFlag_AUTO_ACCEPT" Content="Auto Accept" Tag="524288" Margin="0,0,14,6" Checked="QuestFlagCheck_Changed" Unchecked="QuestFlagCheck_Changed"/>
                                            </WrapPanel>
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox x:Name="QuestSpecialFlagsGroup" Header="Special Flags (quest_template_addon)" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                        <StackPanel>
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="160"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="SpecialFlags (bitmask)" VerticalAlignment="Center"/>
                                                <TextBox x:Name="QuestSpecialFlagsBox" Grid.Column="1" Text="0" />
                                            </Grid>

                                            <WrapPanel>
                                                <CheckBox x:Name="QuestSpecial_REPEATABLE" Content="Repeatable" Tag="1" Margin="0,0,14,6" Checked="QuestSpecialFlagCheck_Changed" Unchecked="QuestSpecialFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestSpecial_EXPLORATION_OR_EVENT" Content="Exploration / Event" Tag="2" Margin="0,0,14,6" Checked="QuestSpecialFlagCheck_Changed" Unchecked="QuestSpecialFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestSpecial_AUTO_ACCEPT" Content="Auto Accept" Tag="4" Margin="0,0,14,6" Checked="QuestSpecialFlagCheck_Changed" Unchecked="QuestSpecialFlagCheck_Changed"/>
                                                <CheckBox x:Name="QuestSpecial_DF_QUEST" Content="Dungeon Finder Quest" Tag="8" Margin="0,0,14,6" Checked="QuestSpecialFlagCheck_Changed" Unchecked="QuestSpecialFlagCheck_Changed"/>
                                            </WrapPanel>
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox x:Name="QuestClassesGroup" Header="Classes Allowed (quest_template_addon.AllowableClasses)" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                        <StackPanel>
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="160"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="AllowableClasses (bitmask)" VerticalAlignment="Center"/>
                                                <TextBox x:Name="QuestClassesBox" Grid.Column="1" Text="0" />
                                            </Grid>

                                            <WrapPanel>
                                                <CheckBox x:Name="QuestClass_WARRIOR" Content="Warrior" Tag="1" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_PALADIN" Content="Paladin" Tag="2" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_HUNTER" Content="Hunter" Tag="4" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_ROGUE" Content="Rogue" Tag="8" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_PRIEST" Content="Priest" Tag="16" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_DEATHKNIGHT" Content="Death Knight" Tag="32" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_SHAMAN" Content="Shaman" Tag="64" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_MAGE" Content="Mage" Tag="128" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_WARLOCK" Content="Warlock" Tag="256" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                                <CheckBox x:Name="QuestClass_DRUID" Content="Druid" Tag="1024" Margin="0,0,14,6" Checked="QuestClassCheck_Changed" Unchecked="QuestClassCheck_Changed"/>
                                            </WrapPanel>
                                        </StackPanel>
                                    </GroupBox>

                                    <GroupBox x:Name="QuestRacesGroup" Header="Races Allowed (quest_template.AllowableRaces)" Padding="10" Margin="0,10,0,0" Visibility="Collapsed">
                                        <StackPanel>
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="160"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Text="AllowableRaces (bitmask)" VerticalAlignment="Center"/>
                                                <TextBox x:Name="QuestRacesBox" Grid.Column="1" Text="0" />
                                            </Grid>

                                            <WrapPanel>
                                                <CheckBox x:Name="QuestRace_HUMAN" Content="Human" Tag="1" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_ORC" Content="Orc" Tag="2" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_DWARF" Content="Dwarf" Tag="4" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_NIGHTELF" Content="Night Elf" Tag="8" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_UNDEAD" Content="Undead" Tag="16" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_TAUREN" Content="Tauren" Tag="32" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_GNOME" Content="Gnome" Tag="64" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_TROLL" Content="Troll" Tag="128" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_BLOODELF" Content="Blood Elf" Tag="512" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                                <CheckBox x:Name="QuestRace_DRAENEI" Content="Draenei" Tag="1024" Margin="0,0,14,6" Checked="QuestRaceCheck_Changed" Unchecked="QuestRaceCheck_Changed"/>
                                            </WrapPanel>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </GroupBox>

                        </StackPanel>
                    </ScrollViewer>

                    <Border Grid.Column="1" Margin="10,0,0,0" BorderBrush="#FFB0B0B0" BorderThickness="1" CornerRadius="4" Padding="10">
                        <StackPanel>
                            <TextBlock Text="Quest Preview" FontWeight="SemiBold" Margin="0,0,0,8"/>

                            <TextBlock x:Name="QuestPreviewTitle"
                                       FontSize="16"
                                       FontWeight="Bold"
                                       TextWrapping="Wrap"
                                       Margin="0,0,0,6"/>

                            <TextBlock Text="Objectives" FontWeight="SemiBold" Margin="0,6,0,2"/>
                            <TextBlock x:Name="QuestPreviewObjectives"
                                       TextWrapping="Wrap"
                                       Foreground="#FF2B2B2B"/>

                            <TextBlock Text="Details" FontWeight="SemiBold" Margin="0,10,0,2"/>
                            <TextBlock x:Name="QuestPreviewDetails"
                                       TextWrapping="Wrap"
                                       Foreground="#FF2B2B2B"/>

                            <TextBlock Text="Rewards" FontWeight="SemiBold" Margin="0,10,0,2"/>
                            <TextBlock x:Name="QuestPreviewRewards"
                                       TextWrapping="Wrap"
                                       Foreground="#FF2B2B2B"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- ===================== SQL PREVIEW ===================== -->
        <GroupBox Header="SQL Preview" Grid.Row="2" Margin="0,10,0,0" Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <DockPanel Grid.Row="0" LastChildFill="False" Margin="0,0,0,8">
                    <Button Content="Clear" Width="90" DockPanel.Dock="Right" Click="SqlPreviewClear_Click"/>
                </DockPanel>

                <TextBox x:Name="SqlPreviewBox"
                         Grid.Row="1"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Auto"
                         TextWrapping="NoWrap"
                         FontFamily="Consolas"
                         FontSize="12"/>
            </Grid>
        </GroupBox>
    </Grid>
</Window>
